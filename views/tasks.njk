{% extends layout %}
{% block content %}
  <main class="container">
    <div>
      <form action="/tasks" method="post">
        <div class="input-group input-group-sm mb-3">
          <span class="input-group-text" id="inputGroup-sizing-sm">Task</span>
          <input 
            class="form-control" 
            type="text" 
            name="task" 
            id="task" 
            value="{{ task }}" 
            placeholder="Input task" 
            required 
            aria-label="Sizing example input" 
            aria-describedby="inputGroup-sizing-sm">
          <button class="btn btn-primary" type="submit">Add Task</button>
        </div>
      </form>
    </div>
    {% for task in tasks %}
    <div class="card mb-3">
      <div class="tasks card-body">
        <div>
          <h3 class="card-title">{{task.task}}</h3>
          <p class="card-text">id: {{task.id}} ||</p>
          <p class="card-text">Created At: {{task.created_at}} ||</p>
          <p class="card-text">Updated At: {{task.updated_at}}</p>
        </div>
        <div class="d-flex">
          <div class="form-check me-3">
            <input 
              class="form-check-input"
              type="checkbox"
              value="{{task.completed}}"
              name="task-{{task.id}}"
              id="task-{{task.id}}"
              {% if task.completed %} checked {% endif %}>
            <label 
              class="form-check-label"
              for="task-{{task.id}}">
              Completed
            </label>
          </div>
          <a href="/tasks/{{task.id}}/delete" class="btn btn-danger">DELETE</a>
        </div>
      </div>
    </div>
    {% endfor %}
  </main>
<script src = "/js/complete.js"></script>
{% endblock %}